const Sequelize = require('sequelize');

const sequelize = new Sequelize({
  database: 'PWR_db',
  dialect: 'postgres',
  define: {
    underscored: true, // use underscored column names for columns generated by sequelize (e.g. timestamps as created_at rather than createdAt)
  }
});

const Workout = sequelize.define('workout', {
    name: Sequelize.STRING,
    duration: Sequelize.INTEGER,
    description: Sequelize.TEXT,
    difficulty: Sequelize.STRING,
    regimen: { type: Sequelize.BOOLEAN,
      defaultValue: false },
});

const Category = sequelize.define('category', {
    title: Sequelize.STRING
});

Category.hasMany(Workout)
Workout.belongsTo(Category)

module.exports = {
  sequelize,
  Workout,
  Category
};
