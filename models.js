
const Sequelize = require('sequelize');

const sequelize = new Sequelize({
  database: 'PWR_db',
  dialect: 'postgres',
  operatorsAliases: false,
  define: {
    underscored: true, // use underscored column names for columns generated by sequelize (e.g. timestamps as created_at rather than createdAt)
  }
});

const Workout = sequelize.define('workout', {
    name: Sequelize.STRING,
    duration: Sequelize.INTEGER,
    description: Seqeulize.STRING,
    difficulty: Sequelize.STRING
});

const Regimen = sequelize.define('regimen', {
    name: Sequelize.STRING,
    duration: Sequelize.INTEGER,
    description: Seqeulize.STRING,
    difficulty: Sequelize.STRING,
    workout_id: Sequelize.STRING,
});

Workout.belongsTo(Regimen);
Regimen.hasMany(Workout, {onDelete: 'cascade'});

module.exports = {
  sequelize,
  Student,
  Instructor
};
